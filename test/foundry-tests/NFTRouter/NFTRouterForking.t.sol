import "forge-std/Test.sol";
import {NFTMarketplaceRouter} from "contracts/modules/NFTMarketplaceRouter/NFTMarketplaceRouter.sol";
import {MockMarketplace, MockedMarketplace} from "test/foundry-tests/mocks/MockMarketplace.sol";
import {MockERC721} from "test/foundry-tests/mocks/MockERC721.sol";

contract NFTMarketplaceRouterTest is Test {
    NFTMarketplaceRouter router;

    address payable internal deployer = payable(0xaDd287e6d0213e662D400d815C481b4b2ddE5d65);

    function setUp() public  {
        vm.prank(deployer);
        router = new NFTMarketplaceRouter();

        deal();
    }

    function deal() internal {
        vm.label(deployer, "DEPLOYER");
        vm.deal(deployer, 10000 ether);
    }

    function testForkBuySingleX2Y2() public {
        vm.prank(deployer);
        address(router).call{value: 8.7 ether}(hex"2b347480000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000078bc9be7c9e6000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000973000000000000000000000000ed5af388653567af2f388e6224dc7c4b3241c54400000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000704357a150b00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000048000000000000000000000000000000000000000000000000000004e501a38656d00000000000000000000000000000000000000000000000000000000631a3cc20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011b5aecd7dcd96d83eae40ab44ffa206eddfd99100000000000000000000000000000000000000000000000000000000000000000a5194d9266a58da57a927e95300c359a94184f3aae56cf56e5bcb4bd7a9bd35388e17bd51f2361794ee0fe9737ffa0dc0f42a4e79f79fa5fd007c0c1130f302000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000001f77d16b77352b1531d1bf1995cd61c50000000000000000000000000fc360ea22cbae5490b33eac9fb0e0cd31a35d3100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000633c0e32000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a000000000000000000000000000000000000000000000000000000000000001c0754f74276ccea885ce352ab51297bcfef1b7a4f64a427009050edae092a430654f0518ca3310df1f0722813ac7ad058e986cc42c1dd1a6206d14675c6f90318d000000000000000000000000000000000000000000000000000000000000001c000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000078bc9be7c9e600000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000001000000000000000000000000ed5af388653567af2f388e6224dc7c4b3241c54400000000000000000000000000000000000000000000000000000000000009730000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000078bc9be7c9e6000017a3838ed0c2b02a4c45ae5f256b6fce310c1c1c64bbfa7364050887acc11ef2000000000000000000000000f849de01b080adc3a814fabe1e2087475cf2e35400000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000001388000000000000000000000000d823c605807cc5e6bd6fc0d7e4eea50d3e2d66cd000000000000000000000000000000000000000000000000000000000000c350000000000000000000000000b4d24dacbdffa1bbf9a624044484b3feeb7fdf7400000000000000000000000000000000000000000000000000000000");
    }
}
