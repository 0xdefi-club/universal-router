// SPDX-License-Identifier: UNLICENSED
pragma solidity ^0.8.16;

import "forge-std/Test.sol";
import {NFTMarketplaceRouter} from "contracts/modules/NFTMarketplaceRouter/NFTMarketplaceRouter.sol";
import {MockMarketplace, MockedMarketplace} from "test/foundry-tests/mocks/MockMarketplace.sol";
import {MockERC721} from "test/foundry-tests/mocks/MockERC721.sol";

// use block number 15485445
contract NFTMarketplaceRouterTest is Test {
    NFTMarketplaceRouter router;

    address payable internal deployer = payable(0xaDd287e6d0213e662D400d815C481b4b2ddE5d65);

    function setUp() public  {
        vm.prank(deployer);
        router = new NFTMarketplaceRouter();

        deal();
    }

    function deal() internal {
        vm.label(deployer, "DEPLOYER");
        vm.deal(deployer, 10000 ether);
    }

    function testForkSingleSeaportBuy() public {
        vm.prank(deployer);
        (bool success, ) = address(router).call{value: 10 ether}(hex"2b34748000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000008ac7230489e8000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000664e7acab24000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000006400000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000000000000000000000000000add287e6d0213e662d400d815c481b4b2dde5d6500000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005a000000000000000000000000062ee9b94088dd9cb3a2d72dbf8b7099ef941477b000000000000000000000000004c00500000ad104d7dbd00e3ae0a5c00560c000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000063027bbf00000000000000000000000000000000000000000000000000000000632a08bf000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000fc261f3149a8330000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000ed5af388653567af2f388e6224dc7c4b3241c54400000000000000000000000000000000000000000000000000000000000015c4000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000805e99fdcc5d0000000000000000000000000000000000000000000000000000805e99fdcc5d000000000000000000000000000062ee9b94088dd9cb3a2d72dbf8b7099ef941477b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003782dace9d9000000000000000000000000000000000000000000000000000003782dace9d900000000000000000000000000000000a26b00c1f0df003000390027140000faa71900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006f05b59d3b2000000000000000000000000000000000000000000000000000006f05b59d3b20000000000000000000000000000b4d24dacbdffa1bbf9a624044484b3feeb7fdf740000000000000000000000000000000000000000000000000000000000000041f8a9474e91d7e652d75dae21da9e6e9ecf746be2b95fb0c3fe1767952429be33147eb4f8a3509c69eda46b4fdfc4a15b89cc0a39c9256f7b827c93251e2cbed71c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000");
        assertTrue(success);
    }
}
